Using uwsgi.it as a customer
----------------------------

When you buy/activate an account on a uwsgi.it-compliant service you will get:

an api base url: like https://foobar.com/api
an api username: like kratos
an api password: like deimos

With those parameters you will be able o configure your services using the HTTP api.

In this quickstart we will use the 'curl' command, but your supplier could give a you a more user-friendly interface (like a web-based one)
based on it.

Let's start: get your personal data
-----------------------------------

First step is ensuring your personal data are correct:

```sh
curl https://kratos:deimos@foobar.com/api/me/
```

```json
{
  "company": "God of war S.r.l.",
  "containers": [30001, 30004, 30007, 30009],
  "uuid": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
  "vat": "01234567890"
}
```

Update personal data
--------------------

It looks like our company value is wrong, le'ts update it with a POST request

```sh
curl -X POST -d '{"company": "God of War 4 S.p.a."}' https://kratos:deimos@foobar.com/api/me/
```

Update password
---------------

As our password has ben generated by the supplier and so (very probably) it is no more private, l'ets change it with another POST request

```sh
curl -X POST -d '{"password": "deimos17"}' https://kratos:deimos@foobar.com/api/me/
```

Containers
----------

In the first api call we made in this quickstart we have seen how the returned object has a "containers" array.

This array is the list of containers mapped to our account. Containers are the "virtual systems/jail" you will use for hosting your applications.

We can get a more verbose list of our containers with:

```sh
curl https://kratos:deimos17@foobar.com/api/me/containers/
```

But most of the time you just want to view a single one:

```sh
curl https://kratos:deimos17@foobar.com/api/containers/30009
```

```json
{
  "uid": 30009,
  "ip": "10.0.0.11",
  "server_address": "1.2.3.4",
  "hostname": "changeme",
  "storage": 1000,
  "uuid": "aaaaaaaa-49ff-4349-8d27-705ca239bb95",
  "server": "fooserver",
  "note": "",
  "quota_threshold": 90,
  "distro_name": null,
  "memory": 500,
  "distro": null,
  "ssh_keys": [],
  "name": "changeme",
  "jid": "",
  "jid_destinations": ""
}
```

this is the response you generally get from a just created container. The storage and memory attributes are in megabytes, and define the resources of the container.

server_address is the ip address you need to DNS point to the domains you want to map to this container.

A container is not started (read you cannot ssh into it) until you assign it an ssh key and a 'distro'

Distributions
-------------

The supplier allows you to choose from a pool of Linux distributions used as the rootfs of your containers (each container can have its distro).

Each distro has an id you can assign to the container object.

To get the list of distros:

```sh
curl https://kratos:deimos17@foobar.com/api/distros/
```

```json
[
  {
    "id": 1,
    "name": "Precise Pangolin - Ubuntu 12.04 LTS (64 bit)"
  },
  {
    "id": 2,
    "name": "Saucy Salamander - Ubuntu 13.10 (64 bit)"
  }
]
```

We want to use Saucy (id 2) so let's assign it to the container 30009:

```sh
curl -X POST -d '{"distro": 2}' https://kratos:deimos17@foobar.com/api/containers/30009
```


SSH keys
--------

To access your container you need ssh keys (there is no, and never will be, support for simple password access)

To set ssh public key:

```sh
curl -X POST -d '{"ssh_keys": ["ssh-rsa ........."]}' https://kratos:deimos17@foobar.com/api/containers/30009
```

you can assign multiple keys in one shot:


```sh
curl -X POST -d '{"ssh_keys": ["ssh-rsa .........", "ssh-rsa ........."]}' https://kratos:deimos17@foobar.com/api/containers/30009
```

after a bunch of seconds your instance will start and you will be abble to ssh into it:

```sh
ssh 30009@server_address
```

'server_address' is the value returned by your request for container data, in our case will be 1.2.3.4


Domains
-------
